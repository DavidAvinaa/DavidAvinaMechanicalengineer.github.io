<script>
  const scene = new THREE.Scene();
  scene.background = new THREE.Color(0xf4f6f8);

  const camera = new THREE.PerspectiveCamera(
    60,
    document.getElementById("viewer").clientWidth / 500,
    0.1,
    2000
  );
  camera.position.set(0, 80, 160);

  const renderer = new THREE.WebGLRenderer({ antialias: true });
  renderer.setSize(
    document.getElementById("viewer").clientWidth,
    500
  );
  document.getElementById("viewer").appendChild(renderer.domElement);

  const controls = new THREE.OrbitControls(camera, renderer.domElement);
  controls.enableDamping = true;

  scene.add(new THREE.DirectionalLight(0xffffff, 1).position.set(100,100,100));
  scene.add(new THREE.AmbientLight(0x404040, 1.5));

  const loader = new THREE.STLLoader();
  loader.load(
    'models/CORE-LOC.stl',
    function (geometry) {
      geometry.center();

      const material = new THREE.MeshStandardMaterial({
        color: 0x1e3799,
        metalness: 0.4,
        roughness: 0.45
      });

      const mesh = new THREE.Mesh(geometry, material);
      scene.add(mesh);
    },
    undefined,
    function (error) {
      console.error('ERROR cargando STL:', error);
    }
  );

  function animate() {
    requestAnimationFrame(animate);
    controls.update();
    renderer.render(scene, camera);
  }
  animate();
</script>


